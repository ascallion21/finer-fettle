@model String

@* TODO: Duration should be a model property *@

@{
    Layout = null;
}

<p>@Model</p>

<p id="auto-close-warning">Attempting to go back in <span id="delay-duration">9</span> seconds...</p>

<script>
    const decreaseDelayDuration = setInterval(() => {
        document.getElementById('delay-duration').textContent = parseInt(document.getElementById('delay-duration').textContent) - 1;
    }, 1000);

    setTimeout(() => {
        window.history.go(-1);
    }, 9000);

    setTimeout(() => {
        // Go-back failed
        clearInterval(decreaseDelayDuration);
        document.getElementById('auto-close-warning').remove();
        window.close();
    }, 10000);
</script>